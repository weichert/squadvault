#!/usr/bin/env bash
set -euo pipefail

# Minimal, deterministic python runner for this repo.
# No env bootstrap. No interactivity. CWD-independent.
#
# Usage:
#   ./scripts/py path/to/script.py [args...]
#   ./scripts/py -c 'print("ok")'

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
REPO_ROOT="$(cd "${SCRIPT_DIR}/.." && pwd)"
cd "${REPO_ROOT}"

PYTHON="${PYTHON:-python3}"
export PYTHONPATH="src${PYTHONPATH:+:${PYTHONPATH}}"

exec "${PYTHON}" "$@"
